<navbar-component></navbar-component>
<br>
<br>
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <h3 class="card-title">New Task Card</h3>
          <hr>
          <div class="container">
            <form [formGroup]="taskCardForm" (ngSubmit)="onSubmit()">
            <div class="row">
              
              <div class="col-md-4">
                <div class="form-group">
                  <label>Task Card</label>
                  <input class="form-control" formControlName="card_no"/>
                </div>
                <div class="form-group">
                  <label>Type</label>
                  <input class="form-control" formControlName="type"/>
                </div>
                <div class="form-group">
                  <label>Category</label>
                  <input class="form-control" formControlName="category"/>
                </div>
              </div>
              
               <div class="col-md-4">
                <div class="form-group">
                  <label>Status</label>
                  <input class="form-control" formControlName="status"/>
                </div>
                <div class="form-group">
                  <label>Revision</label>
                  <input class="form-control" formControlName="revision"/>
                </div>
                <div class="form-group">
                  <label>Revised By</label>
                  <input class="form-control" formControlName="revised_by"/>
                </div>
              </div>
              
               <div class="col-md-4">
                <div class="form-group">
                  <label>Chapter</label>
                  <input class="form-control" formControlName="chap" />
                </div>
                <div class="form-group">
                  <label>Section</label>
                  <input class="form-control" formControlName="sec"/>
                </div>
                <div class="form-group">
                  <label>Paragraph</label>
                  <input class="form-control" formControlName="par"/>
                </div>
              </div>
              
            </div>
            <div class="row">
              
              <div class="col-md-4">
                <div class="form-group">
                  <label>MPD</label>
                  <input class="form-control" formControlName="mpd"/>
                </div>
                <div class="form-group">
                  <label>Area</label>
                  <input class="form-control" formControlName="area"/>
                </div>
                <div class="form-group">
                  <label>Weight and Balance</label>
                  <input class="form-control" formControlName="weight_bal"/>
                </div>
              </div>
              
              <div class="col-md-4">
                <div class="form-group">
                  <label>Priority</label>
                  <input class="form-control" formControlName="priority" />
                </div>
                <div class="form-group">
                  <label>MEL/CDL</label>
                  <input class="form-control" formControlName="mel_cdl"/>
                </div>
                <div class="form-group">
                  <label>Ground Time Required</label>
                  <input class="form-control" formControlName="grnd_time" />
                </div>
              </div>
              
              <div class="col-md-4">
                <div class="form-group">
                  <label>Mechanic</label>
                  <input class="form-control" formControlName="mechanic"/>
                </div>
                <div class="form-group">
                  <label>Electrical Load Charge</label>
                  <input class="form-control" formControlName="elec_load_charge" />
                </div>
              </div>
              
            </div>
            <br>
            <button class="btn btn-primary" type="button" (click)="addItem()">
              <i class="fa fa-plus-circle" aria-hidden="true"></i>
              Add Items
            </button>
            
            <br>
              <h4>Card Items</h4>
              <hr>
             <div formArrayName="items" class="card" >
                  <div class="card-body" *ngFor="let item of items.controls; let i=index" [formGroupName]="i" >
                     <div class="row">
             
              <div class="col-md-12">
                
                <div class="form-group" style="display: inline-block">
                  <label>Manual Reference</label>
                  <input class="form-control" formControlName="ref"/>
                </div>
                <div class="form-group" style="display: inline-block">
                  <label>Element</label>
                  <input class="form-control" formControlName="element"/>
                </div>
                <div class="form-group" >
                  <label>Description</label>
                  <textarea class="form-control" formControlName="desc"></textarea>
                </div>
                <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
                   <ngb-panel title="Parts">
                      <ng-template ngbPanelContent>
                        <div class="form-group" style="display: inline-block">
                            <label>P/N</label>
                            <input class="form-control" formControlName="pn"/>
                          </div>
                          <div class="form-group" style="display: inline-block">
                            <label>qty</label>
                            <input class="form-control" formControlName="qty"/>
                          </div>
                          <div class="form-group" style="display: inline-block">
                            <label>Description</label>
                            <input class="form-control" formControlName="pn_desc"/>
                          </div>
                          <div class="form-group" style="display: inline-block" formControlName="part_type">
                            <label>Part type</label>
                            <select class="form-control">
                              <option value="spare">Spare</option>
                              <option value="tool">Tool</option>
                            </select>
                          </div>
                     </ng-template>
                   </ngb-panel>
                  <ngb-panel title="Panels">
                      <ng-template ngbPanelContent>
                        <div class="form-group" style="display: inline-block">
                            <label>Panel</label>
                            <input class="form-control" formControlName="panel"/>
                          </div>
                          <div class="form-group" style="display: inline-block">
                            <label>Description</label>
                            <input class="form-control" formControlName="pan_desc"/>
                          </div>
                          <div class="form-group" style="display: inline-block">
                            <label>Reference</label>
                            <input class="form-control" formControlName="pan_ref"/>
                          </div>
                     </ng-template>
                   </ngb-panel>
                  <ngb-panel title="Zone">
                      <ng-template ngbPanelContent>
                        <div class="form-group" style="display: inline-block">
                            <label>Zone</label>
                            <input class="form-control" formControlName="zone"/>
                          </div>
                          <div class="form-group" style="display: inline-block">
                            <label>Description</label>
                            <input class="form-control" formControlName="zone_desc"/>
                          </div>
                          
                     </ng-template>
                   </ngb-panel>
                </ngb-accordion>
              </div>
                </div>
               </div>
             
              
             
               <button class="btn btn-success" type="submit" [disabled]="!taskCardForm.valid"> create </button>
            </div>
              </form>
          </div>
          
        </div>
      </div>
    </div>
  </div>
</div>


